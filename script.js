function calcScore(years, skills, impact, manager){const s=Math.max(0,Math.min(10,skills));const i=Math.max(0,Math.min(10,impact));const m=Math.max(0,Math.min(10,manager));const y=Math.max(0,Math.min(40,years));const yearsScore=Math.min(10,(y/5));const raw=s*0.35+i*0.30+m*0.20+yearsScore*0.15;return Math.round(raw*10)/10;}document.addEventListener('DOMContentLoaded',()=>{const ctx=document.getElementById('scoreChart').getContext('2d');const scoreChart=new Chart(ctx,{type:'doughnut',data:{labels:['Score','Remaining'],datasets:[{data:[0,10],backgroundColor:['#0ea5ff','#2b2f35'],borderWidth:0}]},options:{cutout:'70%',plugins:{legend:{display:false}}}});function updateDashboard(score,skillsP,impactP,peerP){scoreChart.data.datasets[0].data=[score,10-score];scoreChart.update();document.getElementById('scoreValue').innerText=score+' / 10';document.getElementById('skillsPct').innerText=skillsP+' / 10';document.getElementById('impactPct').innerText=impactP+' / 10';document.getElementById('peerPct').innerText=peerP+' percentile';}updateDashboard(6.2,6,5,'65th');const calcBtn=document.getElementById('calcBtn');const resetBtn=document.getElementById('resetBtn');calcBtn.addEventListener('click',()=>{const years=Number(document.getElementById('years').value||0);const skills=Number(document.getElementById('skills').value||0);const impact=Number(document.getElementById('impact').value||0);const manager=Number(document.getElementById('manager').value||0);const score=calcScore(years,skills,impact,manager);const peerPct=Math.min(99,Math.round((score/10)*100));updateDashboard(score,skills,impact,peerPct+'th');const result=document.getElementById('result');const steps=document.getElementById('stepsList');steps.innerHTML='';if(score<6){steps.innerHTML+='<li>Focus on measurable impact projects.</li>';steps.innerHTML+='<li>Improve 2 key skills with short courses.</li>';steps.innerHTML+='<li>Ask for targeted feedback from your manager.</li>';}else if(score<8){steps.innerHTML+='<li>Lead a cross-functional project to increase impact.</li>';steps.innerHTML+='<li>Mentor juniors to show leadership readiness.</li>';steps.innerHTML+='<li>Document measurable outcomes for promotion packets.</li>';}else{steps.innerHTML+='<li>Prepare promotion packet with quantified results.</li>';steps.innerHTML+='<li>Seek stretch assignments and visibility.</li>';steps.innerHTML+='<li>Ask for explicit promotion criteria and timeline.</li>';}result.classList.remove('hidden');});resetBtn.addEventListener('click',()=>{document.getElementById('years').value=2;document.getElementById('skills').value=6;document.getElementById('impact').value=5;document.getElementById('manager').value=6;updateDashboard(6.2,6,5,'65th');document.getElementById('result').classList.add('hidden');});document.getElementById('try-btn').addEventListener('click',()=>{window.scrollTo({top:document.getElementById('interactive').offsetTop-20,behavior:'smooth'});});